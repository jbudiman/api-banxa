
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-key" class="toc-h2 toc-link" data-title="API Key">API Key</a>
                  </li>
                  <li>
                    <a href="#signature" class="toc-h2 toc-link" data-title="Signature">Signature</a>
                  </li>
                  <li>
                    <a href="#nonce" class="toc-h2 toc-link" data-title="Nonce">Nonce</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#currencies" class="toc-h1 toc-link" data-title="Currencies">Currencies</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-fiat-currencies" class="toc-h2 toc-link" data-title="Get Fiat Currencies">Get Fiat Currencies</a>
                  </li>
                  <li>
                    <a href="#get-crypto-currencies" class="toc-h2 toc-link" data-title="Get Crypto Currencies">Get Crypto Currencies</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#payment-methods" class="toc-h1 toc-link" data-title="Payment Methods">Payment Methods</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-payment-methods" class="toc-h2 toc-link" data-title="Get Payment Methods">Get Payment Methods</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#price" class="toc-h1 toc-link" data-title="Price">Price</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-prices" class="toc-h2 toc-link" data-title="Get Prices">Get Prices</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#order" class="toc-h1 toc-link" data-title="Order">Order</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-order" class="toc-h2 toc-link" data-title="Create Order">Create Order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#callbacks" class="toc-h1 toc-link" data-title="Callbacks">Callbacks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#customer-return-url" class="toc-h2 toc-link" data-title="Customer Return URL">Customer Return URL</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Banxa partner integration API. </p>

<p>This API documentation will guide you through the integration with Banxa payment APIs and processes.</p>

<aside class="success">
All API responses are in <strong>JSON</strong> format
</aside>

<p>Please contact your account representative or <a href="mailto:support@banxa.com">support@banxa.com</a> to receive your production and testing URLs and your API credentials.</p>

<p>The URLs will be of the format https://[partner].banxa.com and https://[partner].banxa-sandbox.com </p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>Example authentication header:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="s2">"Authentication: HMAC "</span> + <span class="s2">"PARTNER-API-KEY"</span> + <span class="s2">":"</span>
  + hmac_sha256<span class="o">(</span><span class="s1">'POST'</span> + <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span> 
  + <span class="s1">'/api/orders'</span> + <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
  + <span class="s1">'1560227834'</span> + <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>
  + <span class="s1">'{"account_reference":"partner_ref","coin_code":"BTC","wallet_address":"1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2","redirect_url_on_success":"https://partner-site.com/callback/success"}'</span>
  , <span class="s2">"PARTNER-API-SECRET"</span><span class="o">)</span> + <span class="s2">":"</span> + <span class="s2">"1560227834"</span>
</code></pre>
<p>Banxa uses HMAC Authentication to secure the API which utilises an API Key and Secret to hash the message payload. The API credentials will be provided as part of the on-boarding process.</p>

<p>For all of the requests, add an authentication digest to the header.
The authentication header structure must be in the following format:</p>

<aside style="background-color:#dddddd">
<p style="font-family:monospace; font-size: 1.1em; padding-top: 1em;">
"Authentication: HMAC <strong>API_Key</strong>:<strong>Signature</strong>:<strong>Nonce</strong>"
</p>
</aside>
<h3 id='api-key'>API Key</h3>
<p>The API public key credential. This is the one provided by us during on-boarding.</p>
<h3 id='signature'>Signature</h3>
<p>Message authentication signature. The request message is hashed with the API secret key using SHA256 algorithm.
The structure of the message:
<ul>
 <li>Request method. (e.g. &quot;GET or &quot;POST&quot;)</li>
 <li>Request URI.</li>
 <li>The <em>nonce</em> value (e.g. using unix timestamp value)</li>
 <li>The payload in JSON format.</li>
</ul></p>

<aside class="notice">
To ensure the signature is successfully validated, please be aware of the following:
<ul>
    <li>Each piece of information in the signature message should be separated by a new line. (see the example)</li>
    <li>The payload should not contain any whitespace between the names and values</li>
    <li>The Request URI should not contain the host name. e.g. `/api/orders` instead of `https://[partner].banxa.com/api/orders`</li>
</ul>
</aside>      
<h3 id='nonce'>Nonce</h3>
<p>A numeric value with value greater than the one sent with the previous successful request. (e.g. unix timestamp)</p>
<h1 id='currencies'>Currencies</h1><h2 id='get-fiat-currencies'>Get Fiat Currencies</h2>
<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  <span class="s2">"https://[partner].banxa.com/api/fiats"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"fiats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fiat_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Australian Dollar"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve all available fiat currencies</p>
<h3 id='request'>Request</h3>
<p><code>GET https://[partner].banxa.com/api/fiats</code></p>

<aside class="notice">
Requires <strong>Authentication</strong>
</aside>      
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code>fiats.fiat_code</code></td>
<td>The fiat currency</td>
<td>string</td>
</tr>
<tr>
<td><code>fiats.fiat_name</code></td>
<td>The fiat currency full name</td>
<td>string</td>
</tr>
</tbody></table>
<h2 id='get-crypto-currencies'>Get Crypto Currencies</h2>
<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  <span class="s2">"https://[partner].banxa.com/api/coins"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"coins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve all available crypto-currencies</p>
<h3 id='request-2'>Request</h3>
<p><code>GET https://[partner].banxa.com/api/coins</code></p>

<aside class="notice">
Requires <strong>Authentication</strong>
</aside>      
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code>coins.coin_code</code></td>
<td>The crypto currency</td>
<td>string</td>
</tr>
<tr>
<td><code>coins.coin_name</code></td>
<td>The crypto currency full name</td>
<td>string</td>
</tr>
</tbody></table>
<h1 id='payment-methods'>Payment Methods</h1><h2 id='get-payment-methods'>Get Payment Methods</h2>
<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  <span class="s2">"https://[partner].banxa.com/api/payment-methods"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POLi"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POLi is an online payment option that allows you to use your internet banking system to securely buy crypto currency"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://banxa.com/img/poli.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://banxa.com/pay/poli"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_TO_CRYPTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"supported_fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"AUD"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"supported_coin"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"transaction_fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"surcharge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"percentage"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"transaction_limits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
              </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Newsagent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pay for your crypto in cash at your local newsagent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"logo_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://banxa.com/img/newsagent.png"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"info_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://banxa.com/pay/newsagent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_TO_CRYPTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"supported_fiat"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"AUD"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"supported_coin"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">],</span><span class="w">
        </span><span class="s2">"transaction_fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"surcharge"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"percentage"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"transaction_limits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
              </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve all possible payment methods or filter the available by a fiat or coin code. The type of exchange is determined based on the codes provided to the source and target. Currently only fiat codes are supported in source and crypto codes in target.</p>
<h3 id='request-3'>Request</h3>
<p><code>GET https://[partner].banxa.com/api/payment-methods</code></p>

<aside class="notice">
Requires <strong>Authentication</strong>
</aside>      
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>source</code></td>
<td>No</td>
<td>The source currency of type <em>string</em> e.g. &#39;AUD&#39;</td>
</tr>
<tr>
<td><code>target</code></td>
<td>No</td>
<td>The target currency of type <em>string</em> e.g. &#39;BTC&#39;</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code>payment_methods.id</code></td>
<td>The id of the payment method</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.name</code></td>
<td>The name of the payment method</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.description</code></td>
<td>Description of the payment method which can be displayed to customers</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.logo_url</code></td>
<td>Url to get a logo for this payment method</td>
<td>uri</td>
</tr>
<tr>
<td><code>payment_methods.info_url</code></td>
<td>Url to direct user to get more information</td>
<td>uri</td>
</tr>
<tr>
<td><code>payment_methods.status</code></td>
<td>ACTIVE or INACTIVE</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.type</code></td>
<td>The exchange type e.g. &#39;FIAT_TO_CRYPTO&#39;</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.supported_fiat</code></td>
<td>List of supported currencies</td>
<td>array&lt;string&gt;</td>
</tr>
<tr>
<td><code>payment_methods.supported_coin</code></td>
<td>List of supported crypto coins</td>
<td>array&lt;string&gt;</td>
</tr>
<tr>
<td><code>payment_methods.transaction_fees.fiat_code</code></td>
<td>The currency of the fee</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.transaction_fees.coin_code</code></td>
<td>The coin this fee applies to</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.transaction_fees.fees.name</code></td>
<td>The name of the fee</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.transaction_fees.amount</code></td>
<td>The amount of the fee based on the type, e.g. if 5 with percentage then read as 5%</td>
<td>number</td>
</tr>
<tr>
<td><code>payment_methods.transaction_fees.type</code></td>
<td>The fee type. One of percentage or fixed</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.transaction_limits.fiat_code</code></td>
<td>The currency of the limits</td>
<td>number</td>
</tr>
<tr>
<td><code>payment_methods.transaction_limits.min</code></td>
<td>The minimum order size for this payment method</td>
<td>number</td>
</tr>
<tr>
<td><code>payment_methods.transaction_limits.max</code></td>
<td>The maximum order size for this payment method</td>
<td>number</td>
</tr>
</tbody></table>
<h1 id='price'>Price</h1><h2 id='get-prices'>Get Prices</h2>
<blockquote>
<p>Example Request (without filtering):</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  <span class="s2">"https://[partner].banxa.com/api/prices?source_amount=200&amp;source=AUD&amp;target=BTC"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"spot_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15402</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_TO_CRYPTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">770</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_including_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">14632</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"coin_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01230770</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_TO_CRYPTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">1078</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_including_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">14324</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"coin_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01230026</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Example Request (with filtering):</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  <span class="s2">"https://[partner].banxa.com/api/prices?source_amount=200&amp;source=AUD&amp;target=BTC&amp;payment_method_id=1"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"spot_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">15402</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_TO_CRYPTO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">770</span><span class="p">,</span><span class="w">
        </span><span class="s2">"spot_price_including_fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">14632</span><span class="p">,</span><span class="w">
        </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"coin_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01230770</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fiat_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AUD"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get prices for the different payment methods that Banxa offer. Currently only fiat codes are supported in source and crypto codes in target.</p>
<h3 id='request-4'>Request</h3>
<p><code>GET https://[partner].banxa.com/api/prices</code></p>

<aside class="notice">
Requires <strong>Authentication</strong>
</aside>      
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>source</code></td>
<td>Yes</td>
<td>The source currency code of type <em>string</em> e.g. &#39;AUD&#39;</td>
</tr>
<tr>
<td><code>target</code></td>
<td>Yes</td>
<td>The target currency code of type <em>string</em>. e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td><code>source_amount</code></td>
<td>No</td>
<td>The source amount of type <em>float</em></td>
</tr>
<tr>
<td><code>target_amount</code></td>
<td>No</td>
<td>The target amount of type <em>float</em></td>
</tr>
<tr>
<td><code>payment_method_id</code></td>
<td>No</td>
<td>Wallet address of type <em>string</em>. We would prefer you to do the validation on your side.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code>spot_price</code></td>
<td>The spot price of the cryptocurrency</td>
<td>number</td>
</tr>
<tr>
<td><code>payment_methods.id</code></td>
<td>The id of the payment method</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.type</code></td>
<td>The exchange type e.g. &#39;FIAT_TO_CRYPTO&#39;</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.spot_price_fee</code></td>
<td>The fee charged on the spot price</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.spot_price_including_fee</code></td>
<td>The adjusted spot price including the fee</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.price.coin_amount</code></td>
<td>The amount of this crytocurrency to receive based on the fiat amount and fees</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.price.coin_code</code></td>
<td>The cryptocurrency code</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.price.fiat_amount</code></td>
<td>The fiat amount the customer is spending</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.price.fiat_code</code></td>
<td>The fiat currency</td>
<td>string</td>
</tr>
<tr>
<td><code>payment_methods.price.fee_amount</code></td>
<td>The fees calculated on the fiat amount</td>
<td>string</td>
</tr>
</tbody></table>
<h1 id='order'>Order</h1><h2 id='create-order'>Create Order</h2>
<blockquote>
<p>Example Request:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://[partner].banxa.com/api/orders"</span> <span class="se">\</span>
  -H <span class="s2">"Authentication: HMAC xxxxxxxx:xxxx-xxxx-xxxx:xxxxxxxx"</span> <span class="se">\</span>
  -d <span class="se">\</span>
  <span class="s1">'{"account_reference": "partner_ref",
    "coin_code": "BTC",
    "wallet_address": "1BvBMSEYstWetqTFn5Au4m4GFg7xJaNVN2",
    "redirect_url_on_success": "https:\/\/partner-site.com\/callback\/success"}'</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0164d962448fbd34f644ffd65624d8ef"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"098f6bcd4621d373cade4e832627b4f6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account_reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"098f6bcd4621d373cade4e832627b4f6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CRYPTO-BUY"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"wallet_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39Mn6uYF1C1ZHbi5KgmyAjrTPX5RCWThbp"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"checkout_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://[partner].banxa.com/portal?expires=xxx&amp;oid=xxx&amp;signature=xxx"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16-May-2019 10:30:43"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This allows the partner to create an order in Banxa. Upon success of this request, the response will contain a checkout_url which will be unique for this order. The customer should be redirected to this URL to complete the checkout process. The URL will expire after 1 minute if a redirect does not occur.</p>
<h3 id='request-5'>Request</h3>
<p><code>POST https://[partner].banxa.com/api/orders</code></p>

<aside class="notice">
Requires <strong>Authentication</strong>
</aside>      
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>account_reference</code></td>
<td>Yes</td>
<td>Partner&#39;s account reference for the customer / user string.</td>
</tr>
<tr>
<td><code>account_id</code></td>
<td>No</td>
<td>The account_id the order belongs to</td>
</tr>
<tr>
<td><code>payment_method_id</code></td>
<td>No</td>
<td>The payment method to be used for this order</td>
</tr>
<tr>
<td><code>fiat_amount</code></td>
<td>No</td>
<td>The fiat currency amount of type <em>float</em> up to <em>2</em> decimal points.</td>
</tr>
<tr>
<td><code>fiat_code</code></td>
<td>No</td>
<td>The fiat currency code of type <em>string</em> e.g. &#39;AUD&#39;</td>
</tr>
<tr>
<td><code>coin_amount</code></td>
<td>No</td>
<td>The cryptocurrency amount of type <em>float</em> up to <em>8</em> decimal points. e.g 0.12345678</td>
</tr>
<tr>
<td><code>coin_code</code></td>
<td>Yes</td>
<td>The cryptocurrency code of type <em>string</em>. e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td><code>wallet_address</code></td>
<td>Yes</td>
<td>Wallet address of type <em>string</em>. We would prefer you to do the validation on your side.</td>
</tr>
<tr>
<td><code>redirect_url_on_success</code></td>
<td>Yes</td>
<td>The return URL when the customer completed the checkout process</td>
</tr>
<tr>
<td><code>redirect_url_on_cancelled</code></td>
<td>No</td>
<td>The return URL when the customer cancelled the checkout process</td>
</tr>
<tr>
<td><code>redirect_url_on_failure</code></td>
<td>No</td>
<td>The return URL when the customer failed to complete the checkout process</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Format</th>
</tr>
</thead><tbody>
<tr>
<td><code>status</code></td>
<td>The result status message</td>
<td>string</td>
</tr>
<tr>
<td><code>order.id</code></td>
<td>Unique ID of the order</td>
<td>string</td>
</tr>
<tr>
<td><code>order.account_id</code></td>
<td>The account ID for the order</td>
<td>string</td>
</tr>
<tr>
<td><code>order.account_reference</code></td>
<td>Partner&#39;s account reference for the customer / user string.</td>
<td>string</td>
</tr>
<tr>
<td><code>order.order_type</code></td>
<td>Payment type</td>
<td>string</td>
</tr>
<tr>
<td><code>order.fiat_code</code></td>
<td>Fiat currency code</td>
<td>string</td>
</tr>
<tr>
<td><code>order.fiat_amount</code></td>
<td>Fiat currency value for the order</td>
<td>decimal</td>
</tr>
<tr>
<td><code>order.coin_code</code></td>
<td>Cryptocurrency code</td>
<td>string</td>
</tr>
<tr>
<td><code>order.coin_amount</code></td>
<td>Cryptocurrency value for the order</td>
<td>decimal</td>
</tr>
<tr>
<td><code>order.wallet_address</code></td>
<td>Cryptocurrency wallet address</td>
<td>string</td>
</tr>
<tr>
<td><code>order.created_at</code></td>
<td>Timestamp when order was created in UTC time</td>
<td>string</td>
</tr>
<tr>
<td><code>order.checkout_url</code></td>
<td>The url redirect for the customer to complete the checkout process</td>
<td>string</td>
</tr>
</tbody></table>
<h1 id='callbacks'>Callbacks</h1><h2 id='customer-return-url'>Customer Return URL</h2>
<p>The redirect URLs are used to navigate the customers back to the partner page when they complete the checkout process.
The redirect URL must be specified in <strong>Create Order</strong> API parameters. </p>

<p>When the customer completes the checkout page the customer will be redirected to redirect_url_on_success.</p>

<p>If there are any issues completing the order then they will be redirected to redirect_url_on_failure.</p>

<p>If the customer cancels the flow at any point, they will be redirected to the redirect_url_on_cancelled.</p>
<h1 id='errors'>Errors</h1>
<p>The API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is incorrect or the packet was malformed.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The request is not allowed.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The requested resource has been removed from our servers.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
